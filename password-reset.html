<html>
  <head>
    <title>MATE Tipping</title>
    <link rel="stylesheet" type="text/css" href="theme-original.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
    
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico/favicon-16x16.png">
    <link rel="manifest" href="/favicon.ico/site.webmanifest">
    <link rel="mask-icon" href="/favicon.ico/safari-pinned-tab.svg" color="#f47d33">
    <link rel="shortcut icon" href="/favicon.ico/favicon.ico">
    <meta name="msapplication-TileColor" content="#1e252f">
    <meta name="msapplication-config" content="/favicon.ico/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-firestore.js"></script>
    <script>
      var config = {
        apiKey: "AIzaSyBEduYbG9nwxiif677ot7WLAAG8AuRiqoI",
        authDomain: "mate-tipping.firebaseapp.com",
        databaseURL: "https://mate-tipping.firebaseio.com",
        projectId: "mate-tipping",
        storageBucket: "mate-tipping.appspot.com",
        messagingSenderId: "650624140459"
      };
      firebase.initializeApp(config);
    </script>
    
    <script data-ad-client="ca-pub-3401252325683626" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
  </head>
  <body>
    <header>
      <span class="logo-container">
        <img class="logo-small" src="/logos/matetippinglogo-footy.svg">
      </span>
      <span class="title-container">
        <h1>
          <span>mate </span>
          <span class="highlight">tipping</span>
        </h1>
      </span>
      <span class="username-container">
        <span class="float-right">
          <span></span>
        </span>
      </span>
      <span class="hamburger-container">
        <div id="nav-hamburger" class="float-right">
          <div id="container-hamburger">
            <span id="hamburgerTop"></span>
            <span id="hamburgerMid"></span>
            <span id="hamburgerBottom"></span>
          </div>
        </div>
      </span>
    </header>
    <nav id="hamburger-menu">
      <ul>
        <li><a href="javascript:attemptLogIn(username);">Sign in</a></li>
        <li><a href="">Tipping</a></li>
        <li><a href="">Leagues</a></li>
        <li><a href="" class="selected">Profile</a></li>
      </ul>
    </nav>
    <main>
      <h2>Enter new password</h2>
      <div class="message"></div>
      New Password:<input id="password" type="password"></input><br>
      Confirm Password:<input id="confirm" type="password"></input><br>
      <input type="submit" value="Save Password"></input>
      <script type="text/javascript" src="script.js"></script>
      <script>
        $(document).ready(function() {
          var code = getURLParameter("oobCode");
          firebase.auth().checkActionCode(code).then(function() {
            displayInfo("This link is still valid. Please enter a new password and confirm reset.");
            $("input[type='submit']").click(function() {
              var newPassword = $("input#password").val();
              var confirmPassword = $("input#confirm").val();
              if (newPassword == confirmPassword && newPassword.length >= 6) {
                resetPassword(code, newPassword);
              }
            });
          }).catch(function(e) {
            displayError("Invalid link.");
          });
        });
        function resetPassword(code, newPassword) {
          firebase.auth().confirmPasswordReset(code, newPassword).then(function() {
            window.location.href = "https://www.matetipping.com?displaySuccess=Password%20saved%20successfully";
          }).catch(function(e) {
            displayError("Password reset failed.");
          });
        }
      </script>
    </main>
    <footer>&copy; 2020 Daniel Terrington</footer>
  </body>
</html>
